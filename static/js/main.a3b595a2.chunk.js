(this.webpackJsonppage=this.webpackJsonppage||[]).push([[0],{245:function(t,e,a){},383:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),s=a(23),c=a.n(s),r=(a(245),a(157)),o=a(52),h=a(53),l=a(36),d=a(54),u=a(59),j=a(445),b=a(447),p=a(441),x=a(433),m=a(439),O=a(440),f=a(227),g=a(443),y=a(450),v=a(444),C=a(442),k=a(426),S=a(224),D=a(218),I=a(219),L=a(8),P=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(L.jsx)("div",{style:{margin:"20px 0px 0px"},children:Object(L.jsxs)(k.a,{width:580,height:200,data:this.props.data,children:[Object(L.jsx)(S.a,{type:"monotone",dataKey:"occupancy",stroke:"#555555",fill:"#ececec"}),Object(L.jsx)(D.a,{dataKey:"time"}),Object(L.jsx)(I.a,{})]})})}}]),a}(n.Component),T=a(156),w=a.n(T),F=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var t=this,e=this.props.cars.map((function(e){return e<t.props.rating?Object(L.jsx)(w.a,{style:{color:"black"}},e):Object(L.jsx)(w.a,{style:{color:"grey"}},e)}));return Object(L.jsx)("div",{children:e})}}]),a}(n.Component),M=a(221),V=a.n(M),W=a(449),B=a(436),E=a(437),J=a(435),K=a(438),q=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).handleClose=n.handleClose.bind(Object(l.a)(n)),n.handleInfo=n.handleInfo.bind(Object(l.a)(n)),n.state={info:!1,numbers:[0,.2,.4,.6,.8,1]},n}return Object(h.a)(a,[{key:"handleInfo",value:function(){this.setState({info:!0})}},{key:"handleClose",value:function(){this.setState({info:!1})}},{key:"render",value:function(){return Object(L.jsxs)("div",{children:[Object(L.jsxs)(f.a,{variant:"h6",component:"h3",children:["Current Status ",Object(L.jsxs)(x.a,{onClick:this.handleInfo,children:[Object(L.jsx)(V.a,{})," "]})]}),Object(L.jsx)(F,{rating:this.props.forecast,cars:this.state.numbers}),this.state.info&&Object(L.jsxs)(W.a,{onClose:this.handleClose,open:this.state.info,children:[Object(L.jsx)(J.a,{children:"Information"}),Object(L.jsx)(B.a,{children:Object(L.jsx)(E.a,{children:"Current status shows how full your selected parking area is."})}),Object(L.jsx)(K.a,{children:Object(L.jsx)(x.a,{onClick:this.handleClose,color:"primary",children:"Close"})})]})]})}}]),a}(n.Component),z=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).handleChange=n.handleChange.bind(Object(l.a)(n)),n.handleDelete=n.handleDelete.bind(Object(l.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(l.a)(n)),n.handleDateChange=n.handleDateChange.bind(Object(l.a)(n)),n.handleTimeChange=n.handleTimeChange.bind(Object(l.a)(n)),n.randomData=n.randomData.bind(Object(l.a)(n)),n.state={items:[],date:"",time:"",timeInt:0,selected:{station:"",date:""},submitted:!1,persent:"",data:[]},n}return Object(h.a)(a,[{key:"componentWillMount",value:function(){var t=this;fetch("https://data.sbb.ch/api/records/1.0/search/?dataset=mobilitat&q=&facet=stationsbezeichnung").then((function(t){return t.json()})).then((function(e){return t.setState({items:e.facet_groups[0].facets})})),this.randomData();var e=new Date,a=e.getMonth();a<=9&&(a="0"+a);var n=e.getHours();n<=9&&(n="0"+n);var i=e.getMinutes();i<=9&&(i="0"+i);var s=e.getDate();s<=9&&(s="0"+s),this.setState({date:e.getFullYear()+"-"+a+"-"+s,time:n+":"+i})}},{key:"handleSubmit",value:function(){""!==this.state.selected.station&&(this.setState({submitted:!0}),this.randomData())}},{key:"handleChange",value:function(t){this.setState({selected:{station:t.name}})}},{key:"handleDelete",value:function(){this.setState({submitted:!1})}},{key:"handleDateChange",value:function(t){this.setState({date:t.target.value}),this.randomData()}},{key:"handleTimeChange",value:function(t){this.setState({timeInt:parseInt(t.target.value.substr(0,2),10)}),this.setState({time:t.target.value})}},{key:"randomData",value:function(){for(var t=[],e=0;e<24;e++)e<5?t.push({time:"0"+e+":00",occupancy:A(0,.2)}):23===e?t.push({time:e+":00",occupancy:A(0,.2)}):e>4&&e<7?t.push({time:"0"+e+":00",occupancy:A(.2,.4)}):e>6&&e<10?t.push({time:"0"+e+":00",occupancy:A(.4,.7)}):e>9&&e<16?t.push({time:e+":00",occupancy:A(.5,1)}):e>15&&e<20?t.push({time:e+":00",occupancy:A(.3,.6)}):e>19&&e<23&&t.push({time:e+":00",occupancy:A(.1,.3)});this.setState({data:t})}},{key:"render",value:function(){var t=this;return Object(L.jsx)(m.a,{style:{maxWidth:"800px",minWidth:"600px",margin:"50px auto 10px"},children:Object(L.jsxs)(O.a,{children:[Object(L.jsx)(f.a,{variant:"h5",component:"h2",children:"Parking Lot Forecast"}),Object(L.jsx)(f.a,{variant:"body2",component:"p",children:"Choose the station and the time to get a forecast of our parking spaces at the train station"}),Object(L.jsxs)(p.a,{container:!0,spacing:2,children:[Object(L.jsx)(p.a,{item:!0,xs:12,children:Object(L.jsx)(b.a,{id:"stations",options:this.state.items,getOptionLabel:function(t){return t.name},renderInput:function(t){return Object(L.jsx)(j.a,Object(r.a)(Object(r.a)({},t),{},{label:"Choose a Station",variant:"outlined"}))},style:{margin:"20px auto 10px"},onChange:function(e,a){return t.handleChange(a)}})}),Object(L.jsx)(p.a,{item:!0,xs:2}),Object(L.jsx)(p.a,{item:!0,xs:3,children:Object(L.jsx)("form",{noValidate:!0,style:{marginLeft:"20px"},children:Object(L.jsx)(j.a,{id:"date",label:"Date",type:"date",defaultValue:this.state.date,onChange:function(e){return t.handleDateChange(e)},InputLabelProps:{shrink:!0}})})}),Object(L.jsx)(p.a,{item:!0,xs:3,children:Object(L.jsx)("form",{noValidate:!0,children:Object(L.jsx)(j.a,{id:"time",label:"Time",type:"time",defaultValue:this.state.time,onChange:function(e){return t.handleTimeChange(e)},InputLabelProps:{shrink:!0},inputProps:{step:6e3}})})}),Object(L.jsx)(p.a,{item:!0,xs:1,children:Object(L.jsx)(x.a,{variant:"contained",color:"secondary",onClick:this.handleSubmit,children:"Submit"})}),Object(L.jsx)(p.a,{item:!0,xs:1})]}),this.state.submitted&&""!==this.state.selected.station&&Object(L.jsxs)("div",{children:[Object(L.jsx)(g.a,{style:{margin:"30px 30px auto"}}),Object(L.jsxs)(f.a,{variant:"h5",component:"h3",style:{margin:"30px 30px auto"},children:["Parking Situation at",Object(L.jsx)(y.a,{label:this.state.selected.station,onDelete:this.handleDelete,style:{margin:"10px"}})]}),Object(L.jsxs)(C.a,{children:[Object(L.jsx)(v.a,{style:{margin:"0px 5px 0px 50px"},children:Object(L.jsx)(q,{forecast:this.state.data[this.state.timeInt].occupancy})}),Object(L.jsx)(g.a,{style:{margin:"0px 50px 0px 50px"}}),Object(L.jsxs)(f.a,{variant:"h6",component:"h3",style:{margin:"30px 30px auto"},children:["Expected car traffic in percent on ",this.state.date]}),Object(L.jsx)(v.a,{style:{margin:"0px 5px 0px 50px"},children:Object(L.jsx)(P,{data:this.state.data})}),Object(L.jsx)(g.a,{style:{margin:"0px 50px 0px 50px"}})]})]})]})})}}]),a}(n.Component);function A(t,e){return t+Math.random()*(e-t)}var H=function(){return Object(L.jsx)("div",{className:"App",children:Object(L.jsx)(z,{})})},N=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,452)).then((function(e){var a=e.getCLS,n=e.getFID,i=e.getFCP,s=e.getLCP,c=e.getTTFB;a(t),n(t),i(t),s(t),c(t)}))};c.a.render(Object(L.jsx)(i.a.StrictMode,{children:Object(L.jsx)(H,{})}),document.getElementById("root")),N()}},[[383,1,2]]]);
//# sourceMappingURL=main.a3b595a2.chunk.js.map